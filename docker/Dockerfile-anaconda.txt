FROM continuumio/anaconda3:latest
LABEL com.dainesanalytics.anaconda.version=v3.1
EXPOSE 8080
RUN /opt/conda/bin/conda update -y anaconda
RUN /opt/conda/bin/pip install xgboost pmdarima deap update_checker tqdm stopit tpot
RUN /opt/conda/bin/conda install -y -c conda-forge imbalanced-learn
RUN /opt/conda/bin/conda install -y PyMySQL ipywidgets nodejs selenium pandas-datareader
RUN /opt/conda/bin/jupyter nbextension enable --py --sys-prefix widgetsnbextension
RUN /opt/conda/bin/jupyter labextension install @jupyter-widgets/jupyterlab-manager
RUN useradd -m -d /home/anaconda -s /bin/bash anaconda
RUN mkdir /home/anaconda/.ssh && chown anaconda:anaconda /home/anaconda/.ssh
COPY --chown=anaconda:anaconda id_rsa /home/anaconda/.ssh
RUN chmod 700 /home/anaconda/.ssh/id_rsa
USER anaconda
RUN git config --global user.name "David Lowe" && git config --global user.email david.lowe@dainesanalytics.com
WORKDIR /home/anaconda